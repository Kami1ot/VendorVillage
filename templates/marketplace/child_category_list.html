<!-- marketplace/templates/marketplace/child_category_list.html -->
{% extends "base.html" %}

{% block content %}
<div class="container my-5">
    <div class="container my-5">
    <div class="position-relative text-center text-white py-5">
        <div class="position-absolute top-0 start-0 w-100 h-100" style="background: rgba(0, 0, 0, 0.5); border-radius: 10px"></div>
        <h1 class="position-relative">{{ category.name }}</h1>
    </div>
    
    <div class="mt-4">
        {% if children %}
            <h2 class="justify-content-center text-center py-5">Дочерние категории</h2>
            <div class="row justify-content-center">
                {% for child in children %}
                    <div class="col-md-6 mb-4 d-flex justify-content-center">
                        {% if child.big_image %}
                           <div class="card" style="width: 100%; height: 700px; overflow: hidden;">
                                <img src="{{ child.big_image.url }}" class="card-img-top" style="object-fit: cover; height: 100%; width: 100%;" alt="{{ child.name }}">
                                <div class="card-img-overlay d-flex align-items-center justify-content-center" style="background: rgba(0, 0, 0, 0.5);">
                                    <a href="{% url 'marketplace:child_category_list' child.id %}" class="text-decoration-none text-white">
                                        <h3 class="text-center">{{ child.name }}</h3>
                                    </a>
                                </div>
                           </div>
                        {% elif child.small_image %}
                            <div class="card" style="width: 100%; height: 90px; overflow: hidden;">
                                <img src="{{ child.small_image.url }}" class="card-img-top" style="object-fit: cover; height: 100%; width: 100%;" alt="{{ child.name }}">
                                <div class="card-img-overlay d-flex align-items-center justify-content-center" style="background: rgba(0, 0, 0, 0.5);">
                                    <a href="{% url 'marketplace:child_category_list' child.id %}" class="text-decoration-none text-white">
                                        <h3 class="text-center">{{ child.name }}</h3>
                                    </a>
                                </div>
                           </div>
                        {% else %}
                            <div class="list-group w-100">
                                <a href="{% url 'marketplace:child_category_list' child.id %}" class="list-group-item list-group-item-action text-center">
                                    {{ child.name }}
                                </a>
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <p class="text-muted text-center">У этой категории нет дочерних категорий.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
